#!/bin/bash

urldecode() { : "${input//+/ }"; echo -e "${_//%/\\x}"; }

# read from CLI arguments
if [  -n "$1" ]
then
    input="$*"
    urldecode
    exit
fi

# read from interactive input
while read -e -p "> " input
do
    history -s "$input"
    urldecode
done
