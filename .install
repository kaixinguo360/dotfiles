#!/bin/bash

cd $(dirname $0)
dotfiles=$(ls)

# Show Help Info
if [[ $1 = "" || $1 = "-h" || $1 = "--help" ]];then
    echo -e "Usage: $0 [-i(Install)|-d(Delete)]"
    exit 0
fi

# Test Stow Is Installed Or Not
if [[ "" == "$(dpkg -l |grep stow)" ]];then
    echo "The program 'stow' is currently not installed!"
    exit 0
fi

# Install
if [[ $1 == "-i" ]];then
    for dir in ${dotfiles[@]};
    do
        echo "stow $dir"
        stow $dir
    done
fi

# Delete
if [[ $1 == "-d" ]];then
    for dir in ${dotfiles[@]};
    do
        echo "stow -D $dir"
        stow -D $dir
    done
fi

